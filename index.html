<html>

<head>
    <title>佛画装裱</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./javascript/layui/css/layui.css">
    <style>
        body {
            margin-top: 30px;
        }
    </style>
</head>

<body>
    <div class="layui-container">
        <div class="layui-row">
            <div class="layui-col-md7">
                <div id="outer">
                    <div id="content">
                        <div id="jy">
                            <div id="jyBorder">
                                <!-- <div id="jyInner"></div> -->
                                <div id="jyL"></div>
                                <div id="jyR"></div>
                            </div>
                        </div>
                        <div id="top"></div>
                        <div id="imgOuter">
                            <div id="imgBorder">
                                <img id="fh" src="./images/fuoHua/image1.jpg" alt="">
                            </div>
                        </div>
                        <div id="bottom"></div>
                    </div>
                    <div id="jzOuter">
                        <div id="jzInner"></div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md5">
                <div>
                    <div class="layui-collapse" lay-accordion>
                        <div class="layui-colla-item">
                            <h2 class="layui-colla-title">高度宽度</h2>
                            <div class="layui-colla-content layui-show">
                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>上外边距</legend>
                                </fieldset>
                                <div id="imgTopOuterBorderHeight"></div>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>上内边距</legend>
                                </fieldset>
                                <div id="imgTopInnerBorderHeight"></div>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>下外边距</legend>
                                </fieldset>
                                <div id="imgBottomOuterBorderHeight"></div>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>下内边距</legend>
                                </fieldset>
                                <div id="imgBottomInnerBorderHeight"></div>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>左右外边距</legend>
                                </fieldset>
                                <div id="imgLrOuterBorderWidth"></div>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>左右内边距</legend>
                                </fieldset>
                                <div id="imgLrInnerBorderWidth"></div>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>天高</legend>
                                </fieldset>
                                <div id="topHeight"></div>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>地高</legend>
                                </fieldset>
                                <div id="bottomHeight"></div>
                            </div>
                        </div>
                        <div class="layui-colla-item">
                            <h2 class="layui-colla-title">惊燕</h2>
                            <div class="layui-colla-content">
                                <form class="layui-form" action="">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">是否显示</label>
                                        <div class="layui-input-block" style="text-align: left;">
                                            <input type="checkbox" checked="" name="open" lay-skin="switch"
                                                lay-filter="showJy" lay-text="是|否">
                                        </div>
                                    </div>
                                </form>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>惊燕距离</legend>
                                </fieldset>
                                <div id="jyDistance"></div>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>惊燕宽度</legend>
                                </fieldset>
                                <div id="jyWidth"></div>

                                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                                    <legend>惊燕高度</legend>
                                </fieldset>
                                <div id="jyHeight"></div>
                            </div>
                        </div>
                        <div class="layui-colla-item">
                            <h2 class="layui-colla-title">材质</h2>
                            <div class="layui-colla-content">
                                <form class="layui-form" action="">
                                    <div class="layui-form-item" id="top-selector">
                                        <label class="layui-form-label">天地</label>
                                        <div class="layui-input-block">
                                            <select name="" lay-filter="top">
                                            </select>
                                        </div>
                                    </div>

                                    <div class="layui-form-item" id="outer-selector">
                                        <label class="layui-form-label">外边</label>
                                        <div class="layui-input-block">
                                            <select name="" lay-filter="outer">
                                            </select>
                                        </div>
                                    </div>

                                    <div class="layui-form-item" id="inner-selector">
                                        <label class="layui-form-label">内边</label>
                                        <div class="layui-input-block">
                                            <select name="" lay-filter="inner">
                                            </select>
                                        </div>
                                    </div>

                                    <div class="layui-form-item" id="jy-selector">
                                        <label class="layui-form-label">惊燕</label>
                                        <div class="layui-input-block">
                                            <select name="" lay-filter="jy">
                                            </select>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./javascript/config.js"></script>
    <script src="./javascript/jquery-3.5.1.min.js"></script>

    <script>
        for (var j = 0; j < caiZhiParts.length; j++) {
            for (var i = 0; i < CaiZhiImages.length; i++) {
                $("select[lay-filter='" + caiZhiParts[j] + "']")
                    .append('<option value="' + CaiZhiImages[i] + '">' + CaiZhiImages[i] + '</option>');
            }
        }

    </script>

    <script src="./javascript/layui/layui.all.js"></script>
    <script>
        var imgHeight = document.body.clientHeight - 500;
        $("#fh").height(imgHeight);

        function renderSlider(sliderId, max, defaultValue, objectId, cssProperties) {
            layui.slider.render({
                elem: sliderId,
                max: max,
                input: true,
                value: defaultValue, //初始值
                change: function (value) {
                    cssProperties.forEach(function (prop) {
                        $(objectId).css(prop, value);
                    });

                }
            });
        }

        renderSlider('#imgTopOuterBorderHeight', 100, 20, "#imgBorder", ["margin-top"]);           //上外边距
        renderSlider('#imgTopInnerBorderHeight', 100, 10, "#fh", ["margin-top"]);                  //上内边距
        renderSlider('#imgBottomOuterBorderHeight', 100, 20, "#imgBorder", ["margin-bottom"]);     //下外边距
        renderSlider('#imgBottomInnerBorderHeight', 100, 10, "#fh", ["margin-bottom"]);            //下内边距
        renderSlider('#imgLrOuterBorderWidth', 100, 20, "#imgBorder", ["margin-left", "margin-right"]);   //左右外边距
        renderSlider('#imgLrInnerBorderWidth', 100, 20, "#fh", ["margin-left", "margin-right"]);   //左右内边距
        renderSlider('#topHeight', 200, 100, "#top", ["height"]);         //天高
        renderSlider('#bottomHeight', 200, 100, "#bottom", ["height"]);   //地高

        layui.form.on('switch(showJy)', function (data) {
            if (this.checked) {
                $("#jy").show();
            } else {
                $("#jy").hide();
            }
        });

        renderSlider('#jyDistance', 300, 100, "#jyBorder", ["width"]);    //惊燕距离
        // renderSlider('#jyWidth', 50, 20, "#jyInner", ["margin-left", "margin-right"]);    //惊燕宽度
        renderSlider('#jyHeight', 200, 100, "#jyBorder", ["height"]);    //惊燕高度

        layui.slider.render({
            elem: '#jyWidth',
            max: 50,
            input: true,
            value: 20, //初始值
            change: function (value) {
                $("#jyL").width(value);
                $("#jyR").width(value);
            }
        });

        // $("#top-selector dd[lay-value='001']")
        //     .css('background-image', "url(./images/caiZhi/001.jpg)");
        for (var j = 0; j < caiZhiParts.length; j++) {
            for (var i = 0; i < CaiZhiImages.length; i++) {
                $("#" + caiZhiParts[j] + "-selector dd[lay-value='" + CaiZhiImages[i] + "']")
                    .css('background-image', "url(./images/caiZhi/" + CaiZhiImages[i] + ".jpg)");
            }

            layui.form.on('select(' + caiZhiParts[j] + ')', function (data) {
                var part = $(data.elem).attr('lay-filter');
                var backgroudImg = $("#" + part + "-selector dd[lay-value='" + data.value + "']").css("background-image")
                $("#" + part + "-selector .layui-input")
                    .css('background-image', backgroudImg);

                if (part == 'top') {
                    $("#top").css('background-image', backgroudImg);
                    $("#bottom").css('background-image', backgroudImg);
                }

                if (part == 'outer') {
                    $("#imgOuter").css('background-image', backgroudImg);
                }

                if (part == 'inner') {
                    $("#imgBorder").css('background-image', backgroudImg);
                }

                if (part == 'jy') {
                    $("#jyL").css('background-image', backgroudImg);
                    $("#jyR").css('background-image', backgroudImg);
                }
            });
        }

    </script>
</body>

</html>